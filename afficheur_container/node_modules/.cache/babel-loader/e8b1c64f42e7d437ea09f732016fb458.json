{"ast":null,"code":"var _jsxFileName = \"/home/maxence/afficheur_stage/afficheur/src/index.js\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport UI from './Icons/ui.js';\nimport paths from './paths.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SevSegMap = [[1, 0, 0, 1, 1, 0, 0, 0], [0, 0, 1, 1, 1, 1, 1, 1], [0, 0, 0, 1, 1, 0, 0, 0], [0, 1, 1, 1, 0, 1, 1, 0], [0, 1, 1, 1, 1, 1, 0, 0], [0, 1, 0, 1, 1, 0, 0, 1]];\nconst TimeBetweenFloors = 500; //ms\n\nclass Chemin extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      begin: this.props.begin,\n      end: this.props.end,\n      dotPosition: this.props.dotPosition,\n      dotX: \"6.5\",\n      dotY: \"4.5\",\n      thickness: 3,\n      color: \"#2400FF\"\n    };\n  }\n\n  render() {\n    console.log(this.props.points);\n    var path_d = \"M\" + this.props.points[0].x.toString() + \", \" + this.props.points[0].y.toString();\n\n    for (const point of this.props.points.slice(1)) {\n      path_d = path_d + \"L\" + point.x.toString() + \", \" + point.y.toString();\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"svg\", {\n      children: [/*#__PURE__*/_jsxDEV(\"path\", {\n        d: path_d,\n        strokeWidth: this.state.thickness,\n        stroke: this.state.color,\n        fill: \"none\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"ellipse\", {\n        id: \"Ellipse 3\",\n        cx: this.state.dotPosition.x,\n        cy: this.state.dotPosition.y,\n        rx: this.state.dotX,\n        ry: this.state.dotY,\n        fill: this.state.color\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 4\n    }, this);\n  }\n\n}\n\nclass Button extends React.Component {\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: this.props.floorUp,\n      children: this.props.text\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 4\n    }, this);\n  }\n\n}\n\nclass FloorPlan extends React.Component {\n  constructor() {\n    super();\n\n    this.changeFloor = n => {\n      this.setState({\n        targetFloor: n\n      });\n\n      if (n > this.state.currentFloor) {\n        this.setState({\n          direction: \"up\"\n        });\n\n        while (this.state.currentFloor !== this.state.targetFloor) {\n          setTimeout(() => {\n            this.floorUp();\n          }, TimeBetweenFloors);\n        }\n      } else {\n        this.setState({\n          direction: \"down\"\n        });\n\n        while (this.state.currentFloor !== this.state.targetFloor) {\n          setTimeout(() => {\n            this.floorDown();\n          }, TimeBetweenFloors);\n        }\n      }\n\n      this.setState({\n        direction: \"none\"\n      });\n    };\n\n    this.state = {\n      currentFloor: 1,\n      targetFloor: 1,\n      direction: \"none\"\n    };\n    this.floorUp = this.floorUp.bind(this);\n    this.floorDown = this.floorDown.bind(this);\n  }\n\n  floorUp() {\n    this.setState({\n      currentFloor: this.state.currentFloor + 1 > 4 ? 4 : this.state.currentFloor + 1\n    });\n  }\n\n  floorDown() {\n    this.setState({\n      currentFloor: this.state.currentFloor - 1 < -1 ? -1 : this.state.currentFloor - 1\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          floorUp: this.floorUp,\n          text: \"floorUp\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          floorUp: this.floorDown,\n          text: \"floorDown\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 4\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: \"center\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(UI, {\n          current: this.state.currentFloor,\n          activation: SevSegMap[this.state.currentFloor + 1],\n          arrow: this.state.direction\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(Chemin, {\n          points: paths[this.props.room],\n          dotPosition: {\n            x: 90,\n            y: 50\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 4\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 4\n    }, this);\n  }\n\n}\n\nReactDOM.render( /*#__PURE__*/_jsxDEV(FloorPlan, {\n  room: \"Salle de conf\\xE9rence\"\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 113,\n  columnNumber: 17\n}, this), document.getElementById('root'));","map":{"version":3,"sources":["/home/maxence/afficheur_stage/afficheur/src/index.js"],"names":["React","ReactDOM","UI","paths","SevSegMap","TimeBetweenFloors","Chemin","Component","constructor","props","state","begin","end","dotPosition","dotX","dotY","thickness","color","render","console","log","points","path_d","x","toString","y","point","slice","Button","floorUp","text","FloorPlan","changeFloor","n","setState","targetFloor","currentFloor","direction","setTimeout","floorDown","bind","textAlign","room","document","getElementById"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport UI from './Icons/ui.js';\n\nimport paths from './paths.js';\n\nconst SevSegMap = [\n\t[1, 0, 0, 1, 1, 0, 0, 0],\n\t[0, 0, 1, 1, 1, 1, 1, 1],\n\t[0, 0, 0, 1, 1, 0, 0, 0],\n\t[0, 1, 1, 1, 0, 1, 1, 0],\n\t[0, 1, 1, 1, 1, 1, 0, 0],\n\t[0, 1, 0, 1, 1, 0, 0, 1]\n];\n\nconst TimeBetweenFloors = 500; //ms\n\nclass Chemin extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tbegin: this.props.begin,\n\t\t\tend: this.props.end,\n\t\t\tdotPosition: this.props.dotPosition,\n\t\t\tdotX: \"6.5\",\n\t\t\tdotY: \"4.5\",\n\t\t\tthickness: 3,\n\t\t\tcolor: \"#2400FF\"\n\t\t};\n\t}\n\trender() {\n\t\tconsole.log(this.props.points);\n\t\tvar path_d = \"M\" + this.props.points[0].x.toString() + \", \" + this.props.points[0].y.toString();\n\t\tfor (const point of this.props.points.slice(1)) {\n\t\t\tpath_d = path_d + \"L\" + point.x.toString() + \", \" + point.y.toString();\n\t\t}\n\t\treturn (\n\t\t\t<svg>\n\t\t\t\t<path d={path_d} strokeWidth={this.state.thickness} stroke={this.state.color} fill={\"none\"}/>\n\t\t\t\t<ellipse id=\"Ellipse 3\" cx={this.state.dotPosition.x} cy={this.state.dotPosition.y} rx={this.state.dotX} ry={this.state.dotY} fill={this.state.color}/>\n\t\t\t</svg>\n\t\t);\n\t}\n}\n\nclass Button extends React.Component {\n\trender() {\n\t\treturn (\n\t\t\t<button onClick={this.props.floorUp}>\n\t\t\t\t{this.props.text}\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nclass FloorPlan extends React.Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.state = {\n\t\t\tcurrentFloor: 1,\n\t\t\ttargetFloor: 1,\n\t\t\tdirection: \"none\"\n\t\t};\n\t\tthis.floorUp = this.floorUp.bind(this);\n\t\tthis.floorDown = this.floorDown.bind(this);\n\t}\n\n\tchangeFloor = (n) => {\n\t\tthis.setState({targetFloor: n});\n\t\tif (n > this.state.currentFloor) {\n\t\t\tthis.setState({direction: \"up\"});\n\t\t\twhile (this.state.currentFloor !== this.state.targetFloor) {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.floorUp();\n\t\t\t\t}, TimeBetweenFloors);\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tthis.setState({direction: \"down\"});\n\t\t\twhile (this.state.currentFloor !== this.state.targetFloor) {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.floorDown();\n\t\t\t\t}, TimeBetweenFloors);\n\t\t\t}\n\t\t}\n\t\tthis.setState({direction: \"none\"});\n\t}\n\n\tfloorUp() {\n\t\tthis.setState({currentFloor: this.state.currentFloor + 1 > 4 ? 4 : this.state.currentFloor + 1});\n\t}\n\n\tfloorDown() {\n\t\tthis.setState({currentFloor: this.state.currentFloor - 1 < -1 ? -1 : this.state.currentFloor - 1});\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t<div>\n\t\t\t\t<Button floorUp = {this.floorUp} text = {\"floorUp\"}/>\n\t\t\t\t<Button floorUp = {this.floorDown} text = {\"floorDown\"}/>\n\t\t\t</div>\n\t\t\t<div style={{textAlign:\"center\"}}>\n\t\t\t\t<UI current = {this.state.currentFloor} activation = {SevSegMap[this.state.currentFloor+1]} arrow={this.state.direction}/>\n\t\t\t\t<Chemin points={paths[this.props.room]} dotPosition={{x: 90, y: 50}} />\n\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nReactDOM.render(<FloorPlan room=\"Salle de conférence\"/>,document.getElementById('root'));\n"]},"metadata":{},"sourceType":"module"}