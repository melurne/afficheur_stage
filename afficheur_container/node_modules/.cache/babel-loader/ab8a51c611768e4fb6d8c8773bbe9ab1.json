{"ast":null,"code":"var _jsxFileName = \"/home/maxence/afficheur_stage/afficheur/src/index.js\";\nimport React from 'react';\nimport ReactDOM from 'react-dom'; //import UI from './Icons/uiv2.js';\n\nimport './App.css';\nimport paths from './paths.js';\nimport events from './events.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Chemin extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      dotPosition: this.props.dotPosition || {\n        x: -10,\n        y: -10\n      },\n      dotX: \"4\",\n      dotY: \"4\",\n      thickness: 3,\n      color: \"#2400FF\",\n      class: this.props.class\n    };\n  }\n\n  render() {\n    var path_d = \"M\" + this.props.points[0].x.toString() + \" \" + this.props.points[0].y.toString();\n\n    for (const point of this.props.points.slice(1)) {\n      path_d = path_d + \"L\" + point.x.toString() + \" \" + point.y.toString();\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"svg\", {\n      className: \"chemin\",\n      width: \"300\",\n      height: \"300\",\n      children: [/*#__PURE__*/_jsxDEV(\"path\", {\n        className: this.state.class,\n        id: this.state.class,\n        d: path_d,\n        strokeWidth: this.state.thickness,\n        stroke: this.state.color,\n        fill: \"none\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"ellipse\", {\n        id: \"EndPoint\",\n        cx: this.state.dotPosition.x,\n        cy: this.state.dotPosition.y,\n        rx: this.state.dotX,\n        ry: this.state.dotY,\n        fill: this.state.color\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 4\n    }, this);\n  }\n\n}\n\nclass FloorPlan extends React.Component {\n  constructor() {\n    super();\n    var today = new Date();\n    this.state = {\n      selectedEvent: 0,\n      reseting: false,\n      curTime: today.getHours() + \":\" + today.getMinutes()\n    };\n    this.cursorUp = this.cursorUp.bind(this);\n    this.cursorDown = this.cursorDown.bind(this);\n    this.handler = this.handler.bind(this);\n    document.addEventListener('keydown', e => this.handler(e));\n  }\n\n  handler(e) {\n    if (e.key === 'ArrowUp') {\n      this.cursorUp();\n    } else if (e.key === 'ArrowDown') {\n      this.cursorDown();\n    }\n\n    this.setState({\n      reseting: true\n    });\n  }\n\n  cursorUp() {\n    if (this.state.selectedEvent === 0 || this.state.selectedEvent === -1) {\n      return;\n    } else {\n      this.setState({\n        selectedEvent: this.state.selectedEvent - 1\n      });\n    }\n  }\n\n  cursorDown() {\n    if (this.state.selectedEvent === 2 || events[this.state.selectedEvent + 1].intitule === \"\") {\n      return;\n    } else {\n      this.setState({\n        selectedEvent: this.state.selectedEvent + 1\n      });\n    }\n  }\n\n  resetAnimation(id) {\n    var element = document.getElementById(id);\n    element.classList.remove(id);\n    void element.offsetWidth;\n    setTimeout(() => {\n      element.classList.add(id);\n    }, 10);\n  }\n\n  componenetWillMount() {\n    setInterval(function () {\n      const today = new Date();\n      this.setState({\n        curTime: today.getHours() + ':' + today.getMinutes()\n      });\n    }.bind(this), 60000);\n  }\n\n  componentDidUpdate() {\n    if (this.state.reseting) {\n      this.resetAnimation(\"topPath\");\n      this.resetAnimation(\"botPath\");\n      this.setState({\n        reseting: false\n      });\n    }\n  }\n\n  render() {\n    if (this.state.selectedEvent !== -1 && events[0].intitule !== \"\") {\n      var selectedEvent = this.state.selectedEvent;\n      var steps = paths[events[selectedEvent].salle].steps;\n      var pathFromAfficheur = paths[events[selectedEvent].salle].etage !== 1 ? paths[\"ascenceur\"] : paths[events[selectedEvent].salle].trace;\n      var pathToSalle = paths[events[selectedEvent].salle].trace;\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"reacted\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"affichageChemin\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"plans\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"etageAfficheur plan\",\n              id: paths[events[selectedEvent].salle].etage === 1 ? \"noChange\" : \"top\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(Chemin, {\n                  class: this.state.reseting ? \"\" : \"topPath\",\n                  points: pathFromAfficheur,\n                  dotPosition: pathFromAfficheur[0]\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 117,\n                  columnNumber: 9\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 116,\n                columnNumber: 8\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: paths[events[selectedEvent].salle].etage !== 1 ? \"bottom plan\" : \"hidden\",\n              id: \"floor\" + paths[events[selectedEvent].salle].etage.toString(),\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(Chemin, {\n                  class: this.state.reseting ? \"\" : \"botPath\",\n                  points: pathToSalle\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 126,\n                  columnNumber: 9\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 125,\n                columnNumber: 8\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 7\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 6\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"steps\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: steps[0] !== \"\" ? \"step\" : \"hidden\",\n              id: \"step1\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                children: steps[0]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 8\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: steps[1] !== \"\" ? \"step\" : \"hidden\",\n              id: \"step2\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                children: steps[1]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 137,\n                columnNumber: 8\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: steps[2] !== \"\" ? \"step\" : \"hidden\",\n              id: \"step3\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                children: steps[2]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 140,\n                columnNumber: 8\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: steps[3] !== \"\" ? \"step\" : \"hidden\",\n              id: \"step4\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                children: steps[3]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 143,\n                columnNumber: 8\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 7\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 6\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"events\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: events[0].intitule === \"\" ? \"hidden\" : \"partres1\",\n            children: [\" \", /*#__PURE__*/_jsxDEV(\"center\", {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: selectedEvent === 0 ? \"divres isSelected\" : \"divres\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"hres\",\n                  children: events[0].horaire\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 152,\n                  columnNumber: 8\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: this.state.curTime > events[0].horaire ? \"res en_cours\" : \"res\",\n                  children: events[0].intitule\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 155,\n                  columnNumber: 8\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"sres\",\n                  children: events[0].salle\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 158,\n                  columnNumber: 8\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 151,\n                columnNumber: 7\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 74\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 6\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: events[1].intitule === \"\" ? \"hidden\" : \"partres2\",\n            children: [\" \", /*#__PURE__*/_jsxDEV(\"center\", {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: selectedEvent === 1 ? \"divres isSelected\" : \"divres\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"hres\",\n                  children: events[1].horaire\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 166,\n                  columnNumber: 8\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: this.state.curTime > events[1].horaire ? \"res en_cours\" : \"res\",\n                  children: events[1].intitule\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 169,\n                  columnNumber: 8\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"sres\",\n                  children: events[1].salle\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 172,\n                  columnNumber: 8\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 165,\n                columnNumber: 7\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 74\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 6\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: events[2].intitule === \"\" ? \"hidden\" : \"partres3\",\n            children: /*#__PURE__*/_jsxDEV(\"center\", {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: selectedEvent === 2 ? \"divres isSelected\" : \"divres\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"hres\",\n                  children: events[2].horaire\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 180,\n                  columnNumber: 8\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: this.state.curTime > events[2].horaire ? \"res en_cours\" : \"res\",\n                  children: events[2].intitule\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 183,\n                  columnNumber: 8\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"sres\",\n                  children: events[2].salle\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 186,\n                  columnNumber: 8\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 7\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 73\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 6\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 4\n      }, this);\n    } else {\n      if (this.state.selectedEvent !== -1) {\n        this.setState({\n          selectedEvent: -1\n        });\n      }\n\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"reacted\",\n        children: /*#__PURE__*/_jsxDEV(\"center\", {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"centeredWraper\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              id: \"noEvent\",\n              children: \"Il n'y a plus aucune r\\xE9union pr\\xE9vue aujourd'hui\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 7\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 6\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 5\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 4\n      }, this);\n    }\n  }\n\n}\n\nReactDOM.render( /*#__PURE__*/_jsxDEV(FloorPlan, {}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 212,\n  columnNumber: 17\n}, this), document.getElementById('root')); //serveur-intra/extensions_joomla/Affichage_dynamique_Commissions","map":{"version":3,"sources":["/home/maxence/afficheur_stage/afficheur/src/index.js"],"names":["React","ReactDOM","paths","events","Chemin","Component","constructor","props","state","dotPosition","x","y","dotX","dotY","thickness","color","class","render","path_d","points","toString","point","slice","FloorPlan","today","Date","selectedEvent","reseting","curTime","getHours","getMinutes","cursorUp","bind","cursorDown","handler","document","addEventListener","e","key","setState","intitule","resetAnimation","id","element","getElementById","classList","remove","offsetWidth","setTimeout","add","componenetWillMount","setInterval","componentDidUpdate","steps","salle","pathFromAfficheur","etage","trace","pathToSalle","horaire"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\n//import UI from './Icons/uiv2.js';\nimport './App.css';\n\nimport paths from './paths.js';\nimport events from './events.js'\n\nclass Chemin extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tdotPosition: this.props.dotPosition || {x: -10, y: -10},\n\t\t\tdotX: \"4\",\n\t\t\tdotY: \"4\",\n\t\t\tthickness: 3,\n\t\t\tcolor: \"#2400FF\",\n\t\t\tclass: this.props.class\n\t\t};\n\t}\n\n\trender() {\n\t\tvar path_d = \"M\" + this.props.points[0].x.toString() + \" \" + this.props.points[0].y.toString();\n\t\tfor (const point of this.props.points.slice(1)) {\n\t\t\tpath_d = path_d + \"L\" + point.x.toString() + \" \" + point.y.toString();\n\t\t}\n\t\treturn (\n\t\t\t<svg className=\"chemin\" width=\"300\" height=\"300\">\n\t\t\t\t<path className={this.state.class} id={this.state.class} d={path_d} strokeWidth={this.state.thickness} stroke={this.state.color} fill={\"none\"}/>\n\t\t\t\t<ellipse id=\"EndPoint\" cx={this.state.dotPosition.x} cy={this.state.dotPosition.y} rx={this.state.dotX} ry={this.state.dotY} fill={this.state.color}/>\n\t\t\t</svg>\n\t\t);\n\t}\n}\n\nclass FloorPlan extends React.Component {\n\tconstructor() {\n\t\tsuper();\n\t\tvar today = new Date();\n\t\tthis.state = {\n\t\t\tselectedEvent: 0,\n\t\t\treseting: false,\n\t\t\tcurTime: today.getHours() + \":\" + today.getMinutes()\n\t\t};\n\t\tthis.cursorUp = this.cursorUp.bind(this);\n\t\tthis.cursorDown = this.cursorDown.bind(this);\n\t\tthis.handler = this.handler.bind(this);\n\t\tdocument.addEventListener('keydown', (e) => this.handler(e));\n\t}\n\n\thandler(e) {\n\t\tif (e.key === 'ArrowUp') {\n\t\t\tthis.cursorUp();\n\t\t}\n\t\telse if (e.key === 'ArrowDown') {\n\t\t\tthis.cursorDown();\n\t\t}\n\t\tthis.setState({reseting: true});\n\t}\n\n\tcursorUp() {\n\t\tif (this.state.selectedEvent === 0 || this.state.selectedEvent === -1) {\n\t\t\treturn;\n\t\t}\n\t\telse {\n\t\t\tthis.setState({selectedEvent: this.state.selectedEvent - 1});\n\t\t}\n\t}\n\n\tcursorDown() {\n\t\tif (this.state.selectedEvent === 2 || events[this.state.selectedEvent + 1].intitule === \"\") {\n\t\t\treturn;\n\t\t}\n\t\telse {\n\t\t\tthis.setState({selectedEvent: this.state.selectedEvent + 1});\n\t\t}\n\t}\n\n\tresetAnimation(id) {\n\t\tvar element = document.getElementById(id);\n\t\telement.classList.remove(id);\n\t\tvoid element.offsetWidth;\n\t\tsetTimeout(() => {\n\t\t\telement.classList.add(id);\n\t\t}, 10);\n\t}\n\n\tcomponenetWillMount() {\n\t\tsetInterval(function(){\n\t\t\tconst today = new Date();\n\t\t\tthis.setState({curTime: today.getHours() + ':' + today.getMinutes()});\n\t\t}.bind(this), 60000);\n\t}\n\n\tcomponentDidUpdate() {\n\t\tif (this.state.reseting) {\n\t\t\tthis.resetAnimation(\"topPath\");\n\t\t\tthis.resetAnimation(\"botPath\");\n\t\t\tthis.setState({reseting: false});\n\t\t}\n\t}\n\n\trender() {\n\t\tif (this.state.selectedEvent !== -1 && events[0].intitule !== \"\"){\n\t\t\tvar selectedEvent = this.state.selectedEvent;\n\t\t\tvar steps = paths[events[selectedEvent].salle].steps;\n\t\t\tvar pathFromAfficheur = paths[events[selectedEvent].salle].etage !== 1 ? paths[\"ascenceur\"] : paths[events[selectedEvent].salle].trace;\n\t\t\tvar pathToSalle = paths[events[selectedEvent].salle].trace;\n\n\t\t\treturn (\n\t\t\t<div className=\"reacted\">\n\t\t\t\t<div className=\"affichageChemin\">\n\t\t\t\t\t<div className=\"plans\">\n\t\t\t\t\t\t<div \tclassName=\"etageAfficheur plan\"\n\t\t\t\t\t\t\t\t\tid={paths[events[selectedEvent].salle].etage === 1 ? \"noChange\" : \"top\"}>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<Chemin class={this.state.reseting ? \"\" : \"topPath\"}\n\t\t\t\t\t\t\t\t\t\t\t\tpoints={pathFromAfficheur}\n\t\t\t\t\t\t\t\t\t\t\t\tdotPosition={pathFromAfficheur[0]}/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div \tclassName={paths[events[selectedEvent].salle].etage !== 1 ? \"bottom plan\" : \"hidden\"}\n\t\t\t\t\t\t\t\t\tid={\"floor\"+paths[events[selectedEvent].salle].etage.toString()}>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<Chemin class={this.state.reseting ? \"\" : \"botPath\"}\n\t\t\t\t\t\t\t\t\t\t\t\tpoints={pathToSalle} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"steps\">\n\t\t\t\t\t\t<div className={steps[0] !== \"\" ? \"step\" : \"hidden\"} id=\"step1\">\n\t\t\t\t\t\t\t<p>{steps[0]}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={steps[1] !== \"\" ? \"step\" : \"hidden\"} id=\"step2\">\n\t\t\t\t\t\t\t<p>{steps[1]}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={steps[2] !== \"\" ? \"step\" : \"hidden\"} id=\"step3\">\n\t\t\t\t\t\t\t<p>{steps[2]}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={steps[3] !== \"\" ? \"step\" : \"hidden\"} id=\"step4\">\n\t\t\t\t\t\t\t<p>{steps[3]}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\n\t\t\t\t<div className=\"events\">\n\t\t\t\t\t<div className={events[0].intitule === \"\" ? \"hidden\" : \"partres1\"}> <center>\n\t\t\t\t\t\t<div className={selectedEvent === 0 ? \"divres isSelected\" : \"divres\"}>\n\t\t\t\t\t\t\t<span className=\"hres\">\n\t\t\t\t\t\t\t\t{events[0].horaire}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span className={this.state.curTime > events[0].horaire ? \"res en_cours\" : \"res\"}>\n\t\t\t\t\t\t\t\t{events[0].intitule}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span className=\"sres\">\n\t\t\t\t\t\t\t\t{events[0].salle}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</center></div>\n\n\t\t\t\t\t<div className={events[1].intitule === \"\" ? \"hidden\" : \"partres2\"}> <center>\n\t\t\t\t\t\t<div className={selectedEvent === 1 ? \"divres isSelected\" : \"divres\"}>\n\t\t\t\t\t\t\t<span className=\"hres\">\n\t\t\t\t\t\t\t\t{events[1].horaire}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span className={this.state.curTime > events[1].horaire ? \"res en_cours\" : \"res\"}>\n\t\t\t\t\t\t\t\t{events[1].intitule}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span className=\"sres\">\n\t\t\t\t\t\t\t\t{events[1].salle}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</center></div>\n\n\t\t\t\t\t<div className={events[2].intitule === \"\" ? \"hidden\" : \"partres3\"}><center>\n\t\t\t\t\t\t<div className={selectedEvent === 2 ? \"divres isSelected\" : \"divres\"}>\n\t\t\t\t\t\t\t<span className=\"hres\">\n\t\t\t\t\t\t\t\t{events[2].horaire}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span className={this.state.curTime > events[2].horaire ? \"res en_cours\" : \"res\"}>\n\t\t\t\t\t\t\t\t{events[2].intitule}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span className=\"sres\">\n\t\t\t\t\t\t\t\t{events[2].salle}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</center></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\telse {\n\t\tif (this.state.selectedEvent !== -1) {\n\t\t\tthis.setState({selectedEvent: -1});\n\t\t}\n\t\treturn (\n\t\t\t<div className=\"reacted\">\n\t\t\t\t<center>\n\t\t\t\t\t<div className=\"centeredWraper\">\n\t\t\t\t\t\t<span id=\"noEvent\">Il n'y a plus aucune réunion prévue aujourd'hui</span>\n\t\t\t\t\t</div>\n\t\t\t\t</center>\n\t\t\t</div>\n\t\t);\n\t}\n}\n}\n\nReactDOM.render(<FloorPlan />,document.getElementById('root'));\n\n//serveur-intra/extensions_joomla/Affichage_dynamique_Commissions\n"]},"metadata":{},"sourceType":"module"}