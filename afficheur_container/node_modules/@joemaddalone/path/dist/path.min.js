!function(t,i){"object"==typeof exports&&"undefined"!=typeof module?module.exports=i():"function"==typeof define&&define.amd?define(i):(t="undefined"!=typeof globalThis?globalThis:t||self).path=i()}(this,(function(){"use strict";function t(t,i,s){return i in t?Object.defineProperty(t,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[i]=s,t}class i{constructor(){return t(this,"attr",(t,i)=>(this.attributes[t]=i,this)),t(this,"fill",t=>this.attr("fill",t)),t(this,"stroke",t=>this.attr("stroke",t)),t(this,"strokeWidth",t=>this.attr("stroke-width",t)),t(this,"style",t=>this.attr("style",t)),t(this,"m",(t,i)=>this.moveTo(t,i,!0)),t(this,"M",(t,i)=>this.moveTo(t,i)),t(this,"moveTo",(t,i,s=!1)=>(this.pathData.push(`${s?"m":"M"}${t} ${i}`),this)),t(this,"l",(t,i)=>this.lineTo(t,i,!0)),t(this,"L",(t,i)=>this.lineTo(t,i)),t(this,"lineTo",(t,i,s=!1)=>(this.pathData.push(`${s?"l":"L"}${t} ${i}`),this)),t(this,"H",t=>this.horizontalTo(t)),t(this,"h",t=>this.horizontalTo(t,!0)),t(this,"horizontalTo",(t,i=!1)=>(this.pathData.push(`${i?"h":"H"}${t}`),this)),t(this,"V",t=>this.verticalTo(t)),t(this,"v",t=>this.verticalTo(t,!0)),t(this,"verticalTo",(t,i=!1)=>(this.pathData.push(`${i?"v":"V"}${t}`),this)),t(this,"Q",(t,i,s,h)=>this.qCurve(t,i,s,h)),t(this,"q",(t,i,s,h)=>this.qCurve(t,i,s,h,!0)),t(this,"qCurve",(t,i,s,h,r=!1)=>(this.pathData.push(`${r?"q":"Q"}${t} ${i} ${s} ${h}`),this)),t(this,"T",(t,i)=>this.tCurveTo(t,i)),t(this,"t",(t,i)=>this.tCurveTo(t,i,!0)),t(this,"tCurveTo",(t,i,s=!1)=>(this.pathData.push(`${s?"t":"T"}${t} ${i}`),this)),t(this,"C",(t,i,s,h,r,o)=>this.cCurve(t,i,s,h,r,o)),t(this,"c",(t,i,s,h,r,o)=>this.cCurve(t,i,s,h,r,o,!0)),t(this,"cCurve",(t,i,s,h,r,o,n=!1)=>(this.pathData.push(`${n?"c":"C"}${t} ${i} ${s} ${h} ${r} ${o}`),this)),t(this,"S",(t,i,s,h)=>this.sCurveTo(t,i,s,h)),t(this,"s",(t,i,s,h)=>this.sCurveTo(t,i,s,h,!0)),t(this,"sCurveTo",(t,i,s,h,r=!1)=>(this.pathData.push(`${r?"s":"S"}${t} ${i} ${s} ${h}`),this)),t(this,"A",(t,i,s,h,r,o,n)=>this.arc(t,i,s,h,r,o,n)),t(this,"a",(t,i,s,h,r,o,n)=>this.arc(t,i,s,h,r,o,n,!0)),t(this,"arc",(t,i,s,h,r,o,n,a=!1)=>(this.pathData.push(`${a?"a":"A"}${t} ${i} ${s} ${h} ${r} ${o} ${n}`),this)),t(this,"down",t=>this.v(t)),t(this,"up",t=>this.v(-1*t)),t(this,"right",t=>this.h(t)),t(this,"left",t=>this.h(-1*t)),t(this,"close",()=>(this.pathData.push("z"),this)),t(this,"toArray",()=>this.pathData),t(this,"toString",()=>this.pathData.join("")),t(this,"toElement",(t={})=>{const i={...this.attributes,...t},s=document.createElementNS("http://www.w3.org/2000/svg","path");return Object.keys(i).forEach(t=>{s.setAttribute(t,i[t])}),s.setAttribute("d",this.toString()),s}),this.pathData=[],this.attributes={},this}}return t(i,"angleInRadians",t=>t*Math.PI/180),t(i,"polarToCartesian",(t,s,h,r)=>{const o=i.angleInRadians(r);return{x:t+h*Math.cos(o),y:s+h*Math.sin(o)}}),t(i,"radialPoints",(t,i,s,h,r,o=1)=>{r=r||-.5*Math.PI,t=t||1e-10;const n=2*Math.PI*o/h,a=Array.from(Array(h>=0?h:0).keys()),e=Math.max(0,4-Math.floor(Math.log10(t)));return a.map((h,o)=>{const a=o*n+r;return[(i+t*Math.cos(a)).toFixed(e),(s+t*Math.sin(a)).toFixed(e)]})}),t(i,"macro",(t,s)=>{i.prototype[t]=s}),i.macro("rect",(function(t,i,s,h,r=!0){return this.M(s-t/2,h-i/2).right(t).down(i).left(t).up(i),r&&this.M(s,h),this})),i.macro("square",(function(t,i,s,h=!0){return this.rect(t,t,i,s,h)})),i.macro("roundedSquare",(function(t,i,s,h,r=!0){return this.roundedRect(t,t,i,s,h,r)})),i.macro("roundedRect",(function(t,s,h,r,o,n=!0){new i;const a=t-h,e=s-h,u=h/2,c=o-s/2,l=r-t/2,p=l+t,f=c+s;return this.M(l+u,c).right(a).Q(p,c,p,c+u).down(e).Q(p,f,p-u,f).left(a).Q(l,f,l,f-u).up(e).Q(l,c,l+u,c).M(l,c),n&&this.M(r,o),this})),i.macro("circle",(function(t,i,s,h=!0){return this.ellipse(t,t,i,s,h)})),i.macro("ellipse",(function(t,i,s,h,r=!0){const o=t/2,n=i/2;return this.M(s+o,h).A(o,n,0,0,1,s-o,h).A(o,n,0,0,1,s+o,h).close(),r&&this.M(s,h),this})),i.macro("polyline",(function(t,i=!1){const s=[...t],h=s.shift(),r=i?this.m:this.M,o=i?this.l:this.L;return r.apply(null,h),s.forEach(t=>{o.apply(null,t)}),this})),i.macro("polygon",(function(t){return this.polyline(t).close(),this})),i.macro("regPolygon",(function(t,s,h,r,o=!0){return this.polygon(i.radialPoints(t/2,h,r,s)),o&&this.M(h,r),this})),i.macro("polygram",(function(t,s,h,r,o=2,n=!0){return this.polygon(i.radialPoints(t/2,h,r,s,null,o)),n&&this.M(h,r),this})),i.macro("radialLines",(function(t,s,h,r,o,n=!0){const a=i.radialPoints(s/2,r,o,h),e=i.radialPoints(t/2,r,o,h);return a.forEach((t,i)=>{this.M(t[0],t[1]).L(e[i][0],e[i][1])}),n&&this.M(r,o),this})),i.macro("star",(function(t,s,h,r,o,n=!0){const a=s/2,e=t/2,u=360/(2*h),c=Array.from({length:2*h}).map((t,s)=>{let h=s%2==0?e:a,c=u*s-90;const{x:l,y:p}=i.polarToCartesian(r,o,h,c,n);return[l,p]});return this.polygon(c),n&&this.M(r,o),this})),i.macro("triangle",(function(t,i,s,h=!0){const r=Math.sqrt(3),o=[i,s-r/3*t],n=[i-t/2,s+r/6*t],a=[i+t/2,s+r/6*t];return this.polygon([o,n,a]),h&&this.M(i,s),this})),i.macro("sector",(function(t,s,h,r,o,n=!0){const a=h/2,e=i.polarToCartesian(t,s,a,o-90),u=i.polarToCartesian(t,s,a,r-90),c=o-r<=180?0:1;return this.M(e.x,e.y).A(a,a,0,c,0,u.x,u.y).L(t,s).L(e.x,e.y),n&&this.M(t,s),this})),i.macro("segment",(function(t,s,h,r,o,n=!0){const a=h/2,e=i.polarToCartesian(t,s,a,o-90),u=i.polarToCartesian(t,s,a,r-90),c=o-r<=180?0:1;return this.M(e.x,e.y).A(a,a,0,c,0,u.x,u.y),n&&this.M(t,s),this})),i.macro("cross",(function(t,i,s,h,r=!0){const o=s-t/2,n=o+t,a=h-i/2,e=a+i;return this.M(o,h).L(n,h).M(s,e).L(s,a),r&&this.M(s,h),this})),i.macro("symH",(function(t,i,s,h,r=!0){const o=s-t/2,n=o+t,a=h-i/2,e=a+i;return this.M(o,a).L(o,e).M(o,h).L(n,h).M(n,a).L(n,e),r&&this.M(s,h),this})),i.macro("symI",(function(t,i,s,h,r=!0){const o=s-t/2,n=o+t,a=h-i/2,e=a+i;return this.M(o,a).L(n,a).M(s,a).L(s,e).M(o,e).L(n,e),r&&this.M(s,h),this})),i.macro("symX",(function(t,i,s,h,r=!0){const o=s-t/2,n=o+t,a=h-i/2,e=a+i;return this.M(o,a).L(n,e).M(o,e).L(n,a),r&&this.M(s,h),this})),i}));
