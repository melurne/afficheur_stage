!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).ReactSVG={},e.React)}(this,(function(e,t){"use strict";function r(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(r){if("default"!==r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}})),t.default=e,Object.freeze(t)}var n=r(t);function o(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function i(e,t){return e(t={exports:{}},t.exports),t.exports}var a=o(i((function(e){e.exports=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)t.indexOf(r=i[n])>=0||(o[r]=e[r]);return o},e.exports.default=e.exports,e.exports.__esModule=!0}))),s=i((function(e){function t(r,n){return e.exports=t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.default=e.exports,e.exports.__esModule=!0,t(r,n)}e.exports=t,e.exports.default=e.exports,e.exports.__esModule=!0}));o(s);var u=o(i((function(e){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,s(e,t)},e.exports.default=e.exports,e.exports.__esModule=!0})));function l(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e}var c=/; *([!#$%&'*+.^_`|~0-9A-Za-z-]+) *= *("(?:[\u000b\u0020\u0021\u0023-\u005b\u005d-\u007e\u0080-\u00ff]|\\[\u000b\u0020-\u00ff])*"|[!#$%&'*+.^_`|~0-9A-Za-z-]+) */g,f=/\\([\u000b\u0020-\u00ff])/g,p=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+\/[!#$%&'*+.^_`|~0-9A-Za-z-]+$/,d=function(e){if(!e)throw new TypeError("argument string is required");var t="object"==typeof e?function(e){var t;"function"==typeof e.getHeader?t=e.getHeader("content-type"):"object"==typeof e.headers&&(t=e.headers&&e.headers["content-type"]);if("string"!=typeof t)throw new TypeError("content-type header is missing from object");return t}(e):e;if("string"!=typeof t)throw new TypeError("argument string is required to be a string");var r=t.indexOf(";"),n=-1!==r?t.substr(0,r).trim():t.trim();if(!p.test(n))throw new TypeError("invalid media type");var o=new h(n.toLowerCase());if(-1!==r){var i,a,s;for(c.lastIndex=r;a=c.exec(t);){if(a.index!==r)throw new TypeError("invalid parameter format");r+=a[0].length,i=a[1].toLowerCase(),'"'===(s=a[2])[0]&&(s=s.substr(1,s.length-2).replace(f,"$1")),o.parameters[i]=s}if(r!==t.length)throw new TypeError("invalid parameter format")}return o};function h(e){this.parameters=Object.create(null),this.type=e}var v=new Map,m=function(e){return e.cloneNode(!0)},g=function(){return"file:"===window.location.protocol},b=function(e,t){var r=new XMLHttpRequest;r.onreadystatechange=function(){try{if(!/\.svg/i.test(e)&&2===r.readyState){var n=r.getResponseHeader("Content-Type");if(!n)throw new Error("Content type not found");var o=d(n).type;if("image/svg+xml"!==o&&"text/plain"!==o)throw new Error("Invalid content type: "+o)}if(4===r.readyState){if(404===r.status||null===r.responseXML)throw new Error(g()?"Note: SVG injection ajax calls do not work locally without adjusting security settings in your browser. Or consider using a local webserver.":"Unable to load SVG file: "+e);if(!(200===r.status||g()&&0===r.status))throw new Error("There was a problem injecting the SVG: "+r.status+" "+r.statusText);t(null,r)}}catch(e){r.abort(),t(e,r)}},r.open("GET",e),r.overrideMimeType&&r.overrideMimeType("text/xml"),r.send()},w={},y=function(e,t){w[e]=w[e]||[],w[e].push(t)},x=function(e,t){if(v.has(e)){var r=v.get(e);if(void 0===r)return void y(e,t);if(r instanceof SVGSVGElement)return void t(null,m(r))}v.set(e,void 0),y(e,t),b(e,(function(t,r){t?v.set(e,t):r.responseXML instanceof Document&&r.responseXML.documentElement&&r.responseXML.documentElement instanceof SVGSVGElement&&v.set(e,r.responseXML.documentElement),function(e){for(var t=function(t,r){setTimeout((function(){if(Array.isArray(w[e])){var r=v.get(e),n=w[e][t];r instanceof SVGSVGElement&&n(null,m(r)),r instanceof Error&&n(r),t===w[e].length-1&&delete w[e]}}),0)},r=0,n=w[e].length;r<n;r++)t(r)}(e)}))},E=function(e,t){b(e,(function(e,r){e?t(e):r.responseXML instanceof Document&&r.responseXML.documentElement&&r.responseXML.documentElement instanceof SVGSVGElement&&t(null,r.responseXML.documentElement)}))},A=0,S=[],j={},_="http://www.w3.org/1999/xlink",M=function(e,t,r,n,o,i){var a=e.getAttribute("data-src")||e.getAttribute("src");if(a){if(-1!==S.indexOf(e))return S.splice(S.indexOf(e),1),void(e=null);S.push(e),e.setAttribute("src",""),(n?x:E)(a,(function(n,s){if(!s)return S.splice(S.indexOf(e),1),e=null,void i(n);var u=e.getAttribute("id");u&&s.setAttribute("id",u);var c=e.getAttribute("title");c&&s.setAttribute("title",c);var f=e.getAttribute("width");f&&s.setAttribute("width",f);var p=e.getAttribute("height");p&&s.setAttribute("height",p);var d=Array.from(new Set(l(l(l([],(s.getAttribute("class")||"").split(" ")),["injected-svg"]),(e.getAttribute("class")||"").split(" ")))).join(" ").trim();s.setAttribute("class",d);var h=e.getAttribute("style");h&&s.setAttribute("style",h),s.setAttribute("data-src",a);var v=[].filter.call(e.attributes,(function(e){return/^data-\w[\w-]*$/.test(e.name)}));if(Array.prototype.forEach.call(v,(function(e){e.name&&e.value&&s.setAttribute(e.name,e.value)})),r){var m,g,b,w,y={clipPath:["clip-path"],"color-profile":["color-profile"],cursor:["cursor"],filter:["filter"],linearGradient:["fill","stroke"],marker:["marker","marker-start","marker-mid","marker-end"],mask:["mask"],path:[],pattern:["fill","stroke"],radialGradient:["fill","stroke"]};Object.keys(y).forEach((function(e){g=y[e];for(var t=function(e,t){var r;w=(b=m[e].id)+"-"+ ++A,Array.prototype.forEach.call(g,(function(e){for(var t=0,n=(r=s.querySelectorAll("["+e+'*="'+b+'"]')).length;t<n;t++){var o=r[t].getAttribute(e);o&&!o.match(new RegExp('url\\("?#'+b+'"?\\)'))||r[t].setAttribute(e,"url(#"+w+")")}}));for(var n=s.querySelectorAll("[*|href]"),o=[],i=0,a=n.length;i<a;i++){var u=n[i].getAttributeNS(_,"href");u&&u.toString()==="#"+m[e].id&&o.push(n[i])}for(var l=0,c=o.length;l<c;l++)o[l].setAttributeNS(_,"href","#"+w);m[e].id=w},r=0,n=(m=s.querySelectorAll(e+"[id]")).length;r<n;r++)t(r)}))}s.removeAttribute("xmlns:a");for(var x,E,M=s.querySelectorAll("script"),k=[],O=0,G=M.length;O<G;O++)(E=M[O].getAttribute("type"))&&"application/ecmascript"!==E&&"application/javascript"!==E&&"text/javascript"!==E||((x=M[O].innerText||M[O].textContent)&&k.push(x),s.removeChild(M[O]));if(k.length>0&&("always"===t||"once"===t&&!j[a])){for(var R=0,V=k.length;R<V;R++)new Function(k[R])(window);j[a]=!0}var I=s.querySelectorAll("style");if(Array.prototype.forEach.call(I,(function(e){e.textContent+=""})),s.setAttribute("xmlns","http://www.w3.org/2000/svg"),s.setAttribute("xmlns:xlink",_),o(s),!e.parentNode)return S.splice(S.indexOf(e),1),e=null,void i(new Error("Parent node is null"));e.parentNode.replaceChild(s,e),S.splice(S.indexOf(e),1),e=null,i(null,s)}))}else i(new Error("Invalid data-src or src attribute"))},k="http://www.w3.org/2000/svg",O="http://www.w3.org/1999/xlink",G=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).initialState={hasError:!1,isLoading:!0},t.state=t.initialState,t._isMounted=!1,t.refCallback=function(e){t.container=e},t}u(t,e);var r=t.prototype;return r.renderSVG=function(){var e=this;if(this.container instanceof Node){var t,r=this.props,n=r.beforeInjection,o=r.evalScripts,i=r.renumerateIRIElements,a=r.src,s=r.useRequestCache,u=this.props.afterInjection,l=this.props.wrapper;"svg"===l?((t=document.createElementNS(k,l)).setAttribute("xmlns",k),t.setAttribute("xmlns:xlink",O)):t=document.createElement(l),t.dataset.src=a,this.nonReactElement=this.container.appendChild(t);!function(e,t){var r=void 0===t?{}:t,n=r.afterAll,o=void 0===n?function(){}:n,i=r.afterEach,a=void 0===i?function(){}:i,s=r.beforeEach,u=void 0===s?function(){}:s,l=r.cacheRequests,c=void 0===l||l,f=r.evalScripts,p=void 0===f?"never":f,d=r.renumerateIRIElements,h=void 0===d||d;if(e&&"length"in e)for(var v=0,m=0,g=e.length;m<g;m++)M(e[m],p,h,c,u,(function(t,r){a(t,r),e&&"length"in e&&e.length===++v&&o(v)}));else e?M(e,p,h,c,u,(function(t,r){a(t,r),o(1),e=null})):o(0)}(t,{afterEach:function(t,r){!t||(e.removeSVG(),e._isMounted)?(e.nonReactElement=r,e._isMounted&&e.setState((function(){return{hasError:!!t,isLoading:!1}}),(function(){u(t,r)}))):u(t)},beforeEach:n,cacheRequests:s,evalScripts:o,renumerateIRIElements:i})}},r.removeSVG=function(){this.container instanceof Node&&this.nonReactElement instanceof Node&&(this.container.removeChild(this.nonReactElement),this.nonReactElement=null)},r.componentDidMount=function(){this._isMounted=!0,this.renderSVG()},r.componentDidUpdate=function(e){var t=this;(function(e,t){for(var r in e)if(!(r in t))return!0;for(var n in t)if(e[n]!==t[n])return!0;return!1})(e,this.props)&&this.setState((function(){return t.initialState}),(function(){t.removeSVG(),t.renderSVG()}))},r.componentWillUnmount=function(){this._isMounted=!1,this.removeSVG()},r.render=function(){var e=this.props,t=e.fallback,r=e.loading,o=e.wrapper,i=a(e,["afterInjection","beforeInjection","evalScripts","fallback","loading","renumerateIRIElements","src","useRequestCache","wrapper"]);return n.createElement(o,Object.assign({},i,{ref:this.refCallback},"svg"===o?{xmlns:k,xmlnsXlink:O}:{}),this.state.isLoading&&r&&n.createElement(r,null),this.state.hasError&&t&&n.createElement(t,null))},t}(n.Component);G.defaultProps={afterInjection:function(){},beforeInjection:function(){},evalScripts:"never",fallback:null,loading:null,renumerateIRIElements:!0,useRequestCache:!0,wrapper:"div"},e.ReactSVG=G,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=react-svg.umd.production.js.map
